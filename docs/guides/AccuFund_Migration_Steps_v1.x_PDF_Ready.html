<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AccuFund Migration Steps v1.x</title>
    <style>
        /* Reset and base styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.5;
            color: #111;
            background-color: white;
            font-size: 14pt;
            margin: 0;
            padding: 0;
        }
        
        /* Page layout for print */
        @page {
            size: letter;
            margin: 1in 0.75in;
        }
        
        /* Cover page */
        .cover-page {
            position: relative;
            page-break-after: always;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }
        
        .cover-content {
            margin-top: 3in;
        }
        
        .cover-title {
            font-size: 32pt;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 0.5in;
        }
        
        .cover-subtitle {
            font-size: 20pt;
            font-weight: 500;
            color: #3498db;
            margin-bottom: 1in;
        }
        
        .cover-version {
            font-size: 16pt;
            font-weight: 400;
            color: #7f8c8d;
            margin-bottom: 2in;
        }
        
        .cover-footer {
            margin-bottom: 1in;
            font-size: 10pt;
            color: #7f8c8d;
        }
        
        /* Table of contents */
        .toc {
            page-break-after: always;
            padding-top: 1in;
        }
        
        .toc h1 {
            font-size: 18pt;
            margin-bottom: 0.5in;
            color: #2c3e50;
        }
        
        .toc-entry {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.1in;
            border-bottom: 1px dotted #ccc;
        }
        
        .toc-number {
            font-weight: 600;
            width: 0.5in;
        }
        
        .toc-title {
            flex-grow: 1;
        }
        
        .toc-page {
            text-align: right;
        }
        
        .toc-level-1 {
            font-weight: 600;
            margin-top: 0.2in;
        }
        
        .toc-level-2 {
            padding-left: 0.25in;
            font-weight: 400;
        }
        
        /* Headers and sections */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 600;
            margin-top: 0.3in;
            margin-bottom: 0.2in;
            color: #000;
        }
        
        h1 {
            font-size: 22pt;
            border-bottom: 2px solid #3498db;
            padding-bottom: 0.1in;
        }
        
        h2 {
            font-size: 20pt;
            border-bottom: 1px solid #bdc3c7;
            padding-bottom: 0.05in;
        }
        
        h3 {
            font-size: 18pt;
        }
        
        h4 {
            font-size: 16pt;
            font-style: italic;
        }
        
        /* Content formatting */
        p {
            margin-bottom: 0.15in;
            text-align: justify;
        }
        
        ul, ol {
            margin-left: 0.3in;
            margin-bottom: 0.2in;
        }
        
        li {
            margin-bottom: 0.05in;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 0.3in;
            page-break-inside: avoid;
        }
        
        th {
            background-color: #f2f2f2;
            border: 1px solid #ddd;
            padding: 0.1in;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            border: 1px solid #ddd;
            padding: 0.1in;
            text-align: left;
        }
        
        /* Checklist */
        .checkbox {
            display: inline-block;
            width: 14px;
            height: 14px;
            border: 1px solid #333;
            margin-right: 5px;
            position: relative;
            top: 2px;
        }
        
        .checkbox.checked:after {
            content: "‚úì";
            position: absolute;
            top: -3px;
            left: 2px;
        }
        
        /* Page header and footer */
        .header {
            position: running(header);
            text-align: right;
            font-size: 11pt;
            color: #7f8c8d;
        }
        
        .footer {
            position: running(footer);
            text-align: center;
            font-size: 11pt;
            color: #7f8c8d;
            border-top: 1px solid #ecf0f1;
            padding-top: 0.1in;
            display: flex;
            justify-content: space-between;
        }
        
        .page-number:before {
            content: counter(page);
        }
        
        .page-count:before {
            content: counter(pages);
        }
        
        @page {
            @top-right {
                content: element(header);
            }
            @bottom {
                content: element(footer);
            }
        }
        
        /* Prevent page breaks inside important elements */
        .no-break {
            page-break-inside: avoid;
        }
        
        /* Force page breaks */
        .page-break {
            page-break-before: always;
        }
        
        /* Utility classes */
        .text-center {
            text-align: center;
        }
        
        .text-right {
            text-align: right;
        }
        
        .mt-1 {
            margin-top: 0.1in;
        }
        
        .mb-1 {
            margin-bottom: 0.1in;
        }
        
        /* Blockquote */
        blockquote {
            border-left: 4px solid #3498db;
            padding-left: 0.2in;
            margin: 0.2in;
            font-style: italic;
            color: #7f8c8d;
        }
        
        /* Code blocks */
        pre {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 0.1in;
            margin-bottom: 0.2in;
            font-family: 'Courier New', Courier, monospace;
            font-size: 12pt;
            white-space: pre-wrap;
            page-break-inside: avoid;
        }
        
        code {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f8f9fa;
            padding: 0 0.05in;
            border-radius: 3px;
            font-size: 12pt;
        }
        
        /* Legend */
        .legend {
            display: flex;
            gap: 0.2in;
            margin-bottom: 0.2in;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.05in;
        }
        
        /* Path highlighting */
        .path {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f8f9fa;
            padding: 0 0.05in;
            border-radius: 3px;
            font-size: 11pt;
        }
        
        .command {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f8f9fa;
            padding: 0 0.05in;
            border-radius: 3px;
            font-size: 11pt;
        }
        
        /* Section dividers */
        .section-divider {
            border-top: 1px solid #e9ecef;
            margin: 0.3in 0;
        }
    </style>
</head>
<body>
    <!-- Header (appears on all pages except cover) -->
    <div class="header">
        AccuFund Migration Steps v1.x
    </div>
    
    <!-- Footer (appears on all pages except cover) -->
    <div class="footer">
        <div>Mr. MoneyBags v1.x</div>
        <div>Page <span class="page-number"></span> of <span class="page-count"></span></div>
        <div>¬© 2025 San Francisco AI Factory</div>
    </div>
    
    <!-- Cover Page -->
    <div class="cover-page">
        <div class="cover-content">
            <div class="cover-title">AccuFund Migration Steps</div>
            <div class="cover-subtitle">Mr. MoneyBags v1.x ‚Äî macOS Local Installation</div>
            <div class="cover-version">Step-by-Step Migration Checklist</div>
            <img src="/api/placeholder/200/80" alt="Mr. MoneyBags Logo" style="margin-top: 1in;">
        </div>
        <div class="cover-footer">
            ¬© 2025 San Francisco AI Factory<br>
            All rights reserved.<br>
            Last updated: August 2025
        </div>
    </div>
    
    <!-- Table of Contents -->
    <div class="toc">
        <h1>Table of Contents</h1>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">1</div>
            <div class="toc-title">Pre-Migration Checklist</div>
            <div class="toc-page">1</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">2</div>
            <div class="toc-title">Local Mac Setup</div>
            <div class="toc-page">2</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">3</div>
            <div class="toc-title">Data Extraction Steps</div>
            <div class="toc-page">3</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">4</div>
            <div class="toc-title">CSV Import Steps (Postman)</div>
            <div class="toc-page">4</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">5</div>
            <div class="toc-title">Banking Setup Steps</div>
            <div class="toc-page">5</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">6</div>
            <div class="toc-title">User Authentication Setup</div>
            <div class="toc-page">6</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">7</div>
            <div class="toc-title">Testing & Validation Steps</div>
            <div class="toc-page">7</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">8</div>
            <div class="toc-title">Go-Live Steps</div>
            <div class="toc-page">8</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">9</div>
            <div class="toc-title">Post-Migration Steps</div>
            <div class="toc-page">9</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">A</div>
            <div class="toc-title">Required Tools</div>
            <div class="toc-page">10</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">B</div>
            <div class="toc-title">Time & Effort Summary</div>
            <div class="toc-page">10</div>
        </div>
        
        <div class="toc-entry toc-level-1">
            <div class="toc-number">C</div>
            <div class="toc-title">Appendix - Useful Commands</div>
            <div class="toc-page">11</div>
        </div>
    </div>
    
    <!-- Introduction -->
    <div>
        <blockquote>
            Use this document as a punch-list while you migrate.<br>
            All steps assume macOS (Apple Silicon or Intel).
        </blockquote>
        
        <h2>Legend</h2>
        <div class="legend">
            <div class="legend-item">
                <span class="checkbox"></span> = action not started
            </div>
            <div class="legend-item">
                <span class="checkbox checked"></span> = completed
            </div>
            <div class="legend-item">
                <span class="path">üìÇ</span> = file or folder path
            </div>
            <div class="legend-item">
                <span class="command">üíª</span> = command shell
            </div>
        </div>
        
        <div class="section-divider"></div>
    </div>
    
    <!-- Main Content -->
    <h1>1 Pre-Migration Checklist (‚âà ¬Ω day)</h1>
    
    <div class="no-break">
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Task</th>
                    <th>Who</th>
                    <th>Done</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1.1</td>
                    <td><span class="checkbox"></span> Confirm executive approval & budget</td>
                    <td>Sponsor</td>
                    <td></td>
                </tr>
                <tr>
                    <td>1.2</td>
                    <td><span class="checkbox"></span> Freeze non-essential AccuFund customization changes</td>
                    <td>IT</td>
                    <td></td>
                </tr>
                <tr>
                    <td>1.3</td>
                    <td><span class="checkbox"></span> Verify latest AccuFund license & version 9.x</td>
                    <td>IT</td>
                    <td></td>
                </tr>
                <tr>
                    <td>1.4</td>
                    <td><span class="checkbox"></span> Schedule migration window (ideally Fri 18:00 ‚Üí Sun 12:00)</td>
                    <td>Finance</td>
                    <td></td>
                </tr>
                <tr>
                    <td>1.5</td>
                    <td><span class="checkbox"></span> Email downtime notice to users (template in <span class="path">üìÇ communications/</span>)</td>
                    <td>Comms</td>
                    <td></td>
                </tr>
                <tr>
                    <td>1.6</td>
                    <td><span class="checkbox"></span> Snapshot AccuFund VM or run <strong>Full Backup</strong> utility</td>
                    <td>IT</td>
                    <td></td>
                </tr>
                <tr>
                    <td>1.7</td>
                    <td><span class="checkbox"></span> Verify backup SHA-256 matches log</td>
                    <td>IT</td>
                    <td></td>
                </tr>
                <tr>
                    <td>1.8</td>
                    <td><span class="checkbox"></span> Confirm local Mac target installation is ready (Mr. MoneyBags runs on this Mac)</td>
                    <td>IT</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="no-break">
        <h3>Common pitfalls</h3>
        <ul>
            <li>Forgetting to lock end-users ‚ûú results in delta data loss.</li>
            <li>Skipping checksum validation ‚ûú corrupt backup undetected.</li>
        </ul>
    </div>
    
    <div class="section-divider"></div>
    
<h1>2 Local Mac Setup (‚âà 30‚Äì45 min)</h1>
    
    <div class="no-break">
        <ol>
            <li>
                <strong>Prerequisites (Homebrew)</strong>
                <ul>
                    <li>Homebrew ‚Äì install from <a href="https://brew.sh/">https://brew.sh/</a></li>
                    <li>Node.js LTS 18 or 20:<br><pre><span class="command">üíª</span> brew install node</pre></li>
                    <li>Postman ‚â• 10 for API testing</li>
                </ul>
            </li>

            <li>
                <strong>Clone repository</strong>
                <pre><span class="command">üíª</span> git clone https://github.com/org/mr-moneybags.git ~/mr-moneybags</pre>
            </li>

            <li>
                <strong>Configure environment</strong>
<pre><span class="command">üíª</span>
cd ~/mr-moneybags
cp .env.example .env   # if not present
</pre>
                Edit <code>.env</code>:
<pre>
PORT=3000
CORS_ORIGINS=http://localhost:3000
</pre>
            </li>

            <li>
                <strong>Bootstrap database & sample data</strong>
                <pre><span class="command">üíª</span> npm run bootstrap:mac</pre>
                <p>‚Ä¢ Installs PostgreSQL via Homebrew if missing<br>
                   ‚Ä¢ Creates database (schema version 2025-08-15-02)<br>
                   ‚Ä¢ Loads Principle Foundation dataset by default</p>
            </li>

            <li>
                <strong>Start the server</strong>
                <pre><span class="command">üíª</span> npm run start</pre>
                <p>Browse <code>http://localhost:3000</code> and log in with the admin credentials set during bootstrap.</p>
            </li>

            <li>
                <strong>Troubleshooting</strong>
                <ul>
                    <li>Port 3000 busy ‚Üí change <code>PORT</code> in <code>.env</code> then restart.</li>
                    <li>CORS errors ‚Üí ensure your origin is listed in <code>CORS_ORIGINS</code>.</li>
                </ul>
            </li>
        </ol>
    </div>
    
    <div class="section-divider"></div>
    
    <h1>3 Data Extraction Steps (‚âà 2 hours)</h1>
    
    <div class="no-break">
        <table>
            <thead>
                <tr>
                    <th>Step</th>
                    <th>Action</th>
                    <th>AccuFund Screen</th>
                    <th>Output</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>3.1</td>
                    <td><span class="checkbox"></span> Run <strong>GL ‚Üí Export ‚Üí Chart of Accounts</strong></td>
                    <td>General Ledger</td>
                    <td><code>gl_accounts.csv</code></td>
                </tr>
                <tr>
                    <td>3.2</td>
                    <td><span class="checkbox"></span> Run <strong>GL ‚Üí Export ‚Üí Funds</strong></td>
                    <td>Funds</td>
                    <td><code>funds.csv</code></td>
                </tr>
                <tr>
                    <td>3.3</td>
                    <td><span class="checkbox"></span> Export <strong>Vendors</strong> with bank info</td>
                    <td>AP ‚Üí Vendors</td>
                    <td><code>vendors.csv</code></td>
                </tr>
                <tr>
                    <td>3.4</td>
                    <td><span class="checkbox"></span> Export <strong>Bank Accounts</strong> list</td>
                    <td>Banking ‚Üí Bank Accounts</td>
                    <td><code>bank_accounts.csv</code></td>
                </tr>
                <tr>
                    <td>3.5</td>
                    <td><span class="checkbox"></span> Export <strong>Journal Detail</strong> per fiscal year</td>
                    <td>Reports ‚Üí GL Detail</td>
                    <td><code>je_YYYY.csv</code></td>
                </tr>
                <tr>
                    <td>3.6</td>
                    <td><span class="checkbox"></span> Export <strong>Outstanding Checks</strong></td>
                    <td>AP ‚Üí Checks</td>
                    <td><code>open_checks.csv</code></td>
                </tr>
                <tr>
                    <td>3.7</td>
                    <td><span class="checkbox"></span> Export <strong>Open Deposits</strong></td>
                    <td>Cash Receipt ‚Üí Deposits</td>
                    <td><code>open_deposits.csv</code></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <p>Save all files in <span class="path">üìÇ</span> <code>/migration_exports/YYYY-MM-DD</code>.</p>
    
    <div class="section-divider"></div>
    
    <h1>4 CSV Import Steps (Postman) (‚âà 1.5 ‚Äì 3 hours)</h1>
    
    <div class="no-break">
        <h2>Prerequisites</h2>
        <ul>
            <li>Entities, Chart of Accounts, and Funds <strong>must already exist</strong> in Mr. MoneyBags.
                <ul>
                    <li>Use <code>npm run bootstrap:mac</code> or the Admin UI to create any missing codes.</li>
                </ul>
            </li>
            <li>Files must be comma-separated CSV with headers.</li>
            <li>Recommended date format: <strong>YYYY-MM-DD</strong>. Amount columns may include <code>$</code> or <code>,</code>; these are stripped automatically.</li>
        </ul>
    </div>
    
    <!-- Authentication subsection -->
    <div class="no-break">
        <h3>Authentication (required for Postman)</h3>
        <p>Before calling any <code>/api/import/*</code> endpoints you must authenticate so that Postman stores the session
            cookie:</p>
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th>Setting</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Method</td>
                    <td><strong>POST</strong></td>
                    <td></td>
                </tr>
                <tr>
                    <td>URL</td>
<td><code>http://localhost:3000/api/auth/login</code></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Headers</td>
                    <td><code>Content-Type: application/json</code></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Body (raw&nbsp;JSON)</td>
                    <td><code>{ "username": "admin", "password": "yourPassword" }</code></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        <p>If the response is <em>200&nbsp;OK</em> with ‚ÄúLogin successful‚Äù Postman will capture the <code>mmb.sid</code> cookie
            automatically. All subsequent requests in this collection will be sent with that cookie and be authenticated.</p>
    </div>

    <div class="no-break">
        <h3>4.1 Analyze your CSV</h3>
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th>Setting</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Method</td>
                    <td><strong>POST</strong></td>
                    <td></td>
                </tr>
                <tr>
                    <td>URL</td>
<td><code>http://localhost:3000/api/import/analyze</code></td>
                    <td></td>
                </tr>
                <tr>
                    <td>Body</td>
                    <td><strong>form-data</strong> ‚Üí <code>file</code> <em>(type = File)</em> ‚Üí choose your exported CSV</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        
        <p>Response contains <code>headers</code>, <code>sampleData</code>, and a <code>suggestedMapping</code> object such as:</p>
        
        <pre>
{
  "transactionId": "TransactionID",
  "entryDate": "Date",
  "accountCode": "AccountCode",
  "fundCode": "FundCode",
  "debit": "Debit",
  "credit": "Credit",
  "description": "Description"
}
        </pre>
    </div>
    
    <div class="no-break">
        <h3>4.2 Validate the CSV (no JSON conversion needed)</h3>
        <table>
            <thead>
                <tr>
                    <th></th>
                    <th>Setting</th>
                    <th>Value</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Method</td>
                    <td><strong>POST</strong></td>
                    <td></td>
                </tr>
                <tr>
                    <td>URL</td>
<td><code>http://localhost:3000/api/import/validate-csv</code></td>
                    <td></td>
                </tr>
                <tr>
                    <td rowspan="2">Body</td>
                    <td><strong>form-data</strong></td>
                    <td></td>
                </tr>
                <tr>
                    <td><code>file</code> ‚Üí your CSV file<br><code>mapping</code> <em>(type = Text)</em> ‚Üí paste JSON mapping from step 4.1</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
        
        <p>Response:</p>
        <pre>
{
  "isValid": true,
  "issues": [],
  "summary": {
    "totalRows": 1234,
    "uniqueTransactions": 456,
    "unbalancedTransactions": 0
  }
}
        </pre>
    </div>
    
    <div class="no-break">
        <h3>4.3 Process (import) the CSV</h3>
        <p>Same body as <strong>Validate</strong>, but send to:<br>
<code>POST http://localhost:3000/api/import/process-csv</code></p>
        
        <p>Returns <strong>202 Accepted</strong> with <code>{ "importId": "uuid-here" }</code>.</p>
    </div>
    
    <div class="no-break">
        <h3>4.4 Monitor progress</h3>
<p><code>GET http://localhost:3000/api/import/status/:importId</code><br>
        Shows <code>status</code>, <code>progress</code>, counters, and any errors.</p>
    </div>
    
    <div class="no-break">
        <h3>4.5 Rollback if needed</h3>
<p><code>POST http://localhost:3000/api/import/rollback/:importId</code><br>
        Deletes all journal entries created by that import.</p>
    </div>
    
    <div class="no-break">
        <h3>Common pitfalls</h3>
        <ul>
            <li><strong>Account code not found</strong> ‚Üí create the code in Settings ‚Üí Chart of Accounts or fix the CSV.</li>
            <li><strong>Unbalanced transaction</strong> ‚Üí lines sharing a Transaction ID must have equal debits & credits.</li>
            <li><strong>Date parse errors</strong> ‚Üí use YYYY-MM-DD.</li>
            <li><strong>Large files (100 k+ lines)</strong> ‚Üí split by fiscal year.</li>
        </ul>
    </div>
    
    <div class="section-divider"></div>
    
    <h1>5 Banking Setup Steps (‚âà 1 hour)</h1>
    
    <div class="no-break">
        <p><em><strong>macOS local install</strong> ‚Äì you can run <code>npm run bootstrap:mac</code> to set up PostgreSQL, load the sample dataset, and create <code>.env</code> automatically.</em></p>
        
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Action</th>
                    <th>UI Path</th>
                    <th>Done</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>5.1</td>
                    <td><span class="checkbox"></span> Import bank accounts (<code>bank_accounts.csv</code>)</td>
                    <td>Settings ‚Üí Bank Accounts ‚Üí Import</td>
                    <td></td>
                </tr>
                <tr>
                    <td>5.2</td>
                    <td><span class="checkbox"></span> Connect live feeds / upload first statements</td>
                    <td>Bank Reconciliation ‚Üí Bank Statements</td>
                    <td></td>
                </tr>
                <tr>
                    <td>5.3</td>
                    <td><span class="checkbox"></span> Configure default check format (11-inch voucher)</td>
                    <td>Check Printing ‚Üí Check Formats</td>
                    <td></td>
                </tr>
                <tr>
                    <td>5.4</td>
                    <td><span class="checkbox"></span> Enter opening cleared balances</td>
                    <td>Bank Reconciliation ‚Üí New Reconciliation</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="section-divider"></div>
    
    <h1>6 User Authentication Setup (‚âà 30 min)</h1>
    
    <div class="no-break">
        <ol>
            <li>
                <strong>Create admin</strong>
                <pre><span class="command">üíª</span>
npm run create-admin -- \
  --user admin --email admin@example.org --password 'TempP@ss123!'</pre>
            </li>
            
            <li>
                <strong>Bulk-import users</strong>
                <ul>
                    <li>Save file as <span class="path">üìÇ</span> <code>users_import.csv</code> (<code>full_name,email,role</code>)</li>
                    <li>UI ‚Üí Settings ‚Üí Users ‚Üí Import CSV.</li>
                </ul>
            </li>
            
            <li>
                <strong>Role audit</strong>
                <ul>
                    <li><span class="checkbox"></span> Confirm Settings tab only visible to <code>admin</code> role.</li>
                    <li><span class="checkbox"></span> Finance role can post JE but cannot manage users.</li>
                </ul>
            </li>
        </ol>
    </div>
    
    <div class="no-break">
        <p><strong>Pitfall:</strong> Copy-pasting passwords with trailing space ‚ûú login failure.</p>
    </div>
    
    <div class="section-divider"></div>
    
    <h1>7 Testing & Validation Steps (‚âà 4 hours)</h1>
    
    <div class="no-break">
        <table>
            <thead>
                <tr>
                    <th>Task</th>
                    <th>Tool / Location</th>
                    <th>Expected</th>
                    <th>Done</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="checkbox"></span> Compare record counts (staging vs prod)</td>
                    <td><span class="command">üíª</span> <code>sp_compare_counts()</code></td>
                    <td>0 variance</td>
                    <td></td>
                </tr>
                <tr>
                    <td><span class="checkbox"></span> Trial balance per entity</td>
                    <td>Reports ‚Üí Trial Balance</td>
                    <td>Matches AccuFund</td>
                    <td></td>
                </tr>
                <tr>
                    <td><span class="checkbox"></span> Bank rec ending balance</td>
                    <td>Bank Reconciliation report</td>
                    <td>Equals statement</td>
                    <td></td>
                </tr>
                <tr>
                    <td><span class="checkbox"></span> Random JE drill-down (5/mo)</td>
                    <td>JE screen</td>
                    <td>Debit = Credit</td>
                    <td></td>
                </tr>
                <tr>
                    <td><span class="checkbox"></span> User login & permissions</td>
                    <td>Login as each role</td>
                    <td>Proper access</td>
                    <td></td>
                </tr>
                <tr>
                    <td><span class="checkbox"></span> Print sample check to blank paper</td>
                    <td>Check Printing</td>
                    <td>Fields align</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="section-divider"></div>
    
    <h1>8 Go-Live Steps (‚âà 2 hours)</h1>
    
    <div class="no-break">
        <ol>
            <li><span class="checkbox"></span> <strong>Freeze</strong> AccuFund data entry (set to read-only).</li>
            <li><span class="checkbox"></span> Export delta transactions (last 48 h) and import via CSV using the Postman flow.</li>
            <li><span class="checkbox"></span> Verify critical user logins and permissions on this Mac instance.</li>
            <li><span class="checkbox"></span> Send ‚ÄúSystem Live‚Äù email with local access instructions.</li>
            <li><span class="checkbox"></span> Monitor server output in Terminal (<code>npm run start</code>) for 2 hours.</li>
            <li><span class="checkbox"></span> Archive / retire AccuFund (snapshot + power off).</li>
        </ol>
    </div>
    
    <div class="section-divider"></div>
    
    <h1>9 Post-Migration Steps (‚âà 1 day)</h1>
    
    <div class="no-break">
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Action</th>
                    <th>Owner</th>
                    <th>Done</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>9.1</td>
                    <td><span class="checkbox"></span> Schedule nightly <code>pg_dump</code> cron job</td>
                    <td>IT</td>
                    <td></td>
                </tr>
                <tr>
                    <td>9.2</td>
                    <td><span class="checkbox"></span> Conduct user training webinar (slides in <span class="path">üìÇ</span> <code>training/</code>)</td>
                    <td>Trainer</td>
                    <td></td>
                </tr>
                <tr>
                    <td>9.3</td>
                    <td><span class="checkbox"></span> Review first week reconciliations</td>
                    <td>Finance</td>
                    <td></td>
                </tr>
                <tr>
                    <td>9.4</td>
                    <td><span class="checkbox"></span> Document any custom report gaps</td>
                    <td>Finance</td>
                    <td></td>
                </tr>
                <tr>
                    <td>9.5</td>
                    <td><span class="checkbox"></span> Retire AccuFund license / contract</td>
                    <td>Procurement</td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="section-divider"></div>
    
    <h1>A Required Tools</h1>
    
    <div class="no-break">
        <table>
            <thead>
                <tr>
                    <th>Tool</th>
                    <th>Version</th>
                    <th>Purpose</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>PostgreSQL client (<code>psql</code>)</td>
                    <td>16.x</td>
                    <td>DB inspection / maintenance (optional)</td>
                </tr>
                <tr>
                    <td>AccuFund 9.x</td>
                    <td>Latest</td>
                    <td>Data export</td>
                </tr>
                <tr>
                    <td>Spreadsheet software</td>
                    <td>n/a</td>
                    <td>Mapping sheets</td>
                </tr>
                <tr>
                    <td>bcrypt-cli</td>
                    <td>2.x</td>
                    <td>Password hashing</td>
                </tr>
                <tr>
                    <td>Postman</td>
                    <td>‚â• 10.0</td>
                    <td>API testing / file uploads</td>
                </tr>
                <tr>
                    <td>Homebrew</td>
                    <td>latest</td>
                    <td>Package manager (PostgreSQL install)</td>
                </tr>
                <tr>
                    <td>Node.js LTS</td>
                    <td>18.x or 20.x</td>
                    <td>Runtime for server & scripts</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <h1>B Time & Effort Summary</h1>
    
    <div class="no-break">
        <table>
            <thead>
                <tr>
                    <th>Phase</th>
                    <th>Est. Hours</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Preparation & Backup</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>Environment Setup</td>
                    <td>1</td>
                </tr>
                <tr>
                    <td>Extraction & Import</td>
                    <td>5</td>
                </tr>
                <tr>
                    <td>Banking & Auth Config</td>
                    <td>1.5</td>
                </tr>
                <tr>
                    <td>Testing & Validation</td>
                    <td>4</td>
                </tr>
                <tr>
                    <td>Go-Live</td>
                    <td>2</td>
                </tr>
                <tr>
                    <td>Post-Migration</td>
                    <td>8</td>
                </tr>
                <tr>
                    <td><strong>Total</strong></td>
                    <td><strong>25.5 hrs</strong></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <h1>C Appendix - Useful Commands</h1>
    
    <div class="no-break">
        <table>
            <thead>
                <tr>
                    <th>Action</th>
                    <th>Command</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Dump prod DB</td>
                    <td><code>pg_dump -U postgres -Fc mrmoneybags > db_$(date +%F).dump</code></td>
                </tr>
                <tr>
                    <td>Restore dump</td>
                    <td><code>pg_restore -U postgres -d mrmoneybags db.dump</code></td>
                </tr>
                <tr>
                    <td>Reset admin PW</td>
                    <td><code>npm run reset-password -- --user admin --password 'NewP@ss!'</code></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div style="margin-top: 1in; text-align: center; font-style: italic; color: #7f8c8d;">
        <p>Prepared August 2025 ‚Äì San Francisco AI Factory</p>
    </div>
</body>
</html>
